<!DOCTYPE html>
<html>
<head>
<title>Estrai elemento SVG</title>
<style>
  #svgContainer {
    border: 1px solid black; /* Bordo per visualizzare il contenitore SVG */
    width: 500px; /* Larghezza di esempio */
    height: auto; /* Altezza automatica */
    overflow: auto; /* Aggiunge scroll se l'SVG Ã¨ grande */
  }

  #extractedElementContainer {
    margin-top: 20px;
    border: 1px dashed green; /* Bordo per l'elemento estratto */
    padding: 10px;
  }
</style>
</head>
<body>

  <h1>Carica SVG ed Estrai Elemento</h1>

  <input type="file" id="svgFile" accept=".svg">

  <h2>SVG Originale:</h2>
  <div id="svgContainer">
    </div>

  <h2>Elemento Estratto (ID: Tricarico):</h2>
  <div id="extractedElementContainer">
    </div>

  <script>
    const svgFile = document.getElementById('svgFile');
    const svgContainer = document.getElementById('svgContainer');
    const extractedElementContainer = document.getElementById('extractedElementContainer');

    svgFile.addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const svgContent = e.target.result;
          svgContainer.innerHTML = svgContent; // Inserisci l'intero SVG nel contenitore

          // Estrai l'elemento con l'ID "Tricarico"
          const tricaricoElement = document.getElementById('Tricarico');

          if (tricaricoElement) {
            // Crea un nuovo elemento SVG per contenere solo l'elemento estratto
            const newSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");

            // Copia gli attributi viewBox e altri attributi rilevanti dall'SVG originale (se presenti)
            const originalSvgElement = svgContainer.querySelector('svg');
            if (originalSvgElement && originalSvgElement.getAttribute('viewBox')) {
              newSvg.setAttribute('viewBox', originalSvgElement.getAttribute('viewBox'));
            }
            // Potresti voler copiare anche width e height se definiti nell'SVG originale

            // Importa l'elemento estratto nel nuovo SVG
            const importedNode = document.importNode(tricaricoElement, true);
            newSvg.appendChild(importedNode);

            // Inserisci il nuovo SVG contenente solo "Tricarico" nel suo contenitore
            extractedElementContainer.innerHTML = ''; // Pulisci il contenitore precedente
            extractedElementContainer.appendChild(newSvg);
          } else {
            extractedElementContainer.innerHTML = '<p>Elemento con ID "Tricarico" non trovato nel file SVG.</p>';
          }
        };
        reader.readAsText(file);
      }
    });
  </script>

</body>
</html>
